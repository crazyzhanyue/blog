!function(e,t){"use strict";t.body;var s=t.querySelector.bind(t),o=t.querySelectorAll.bind(t),i=s("#menu"),n=s("#header"),a=s("#mask"),l=s("#loading"),r=s("#menu-open"),c=s("#menu-off"),d=s("#gotop"),f=(e.requestAnimationFrame,Array.prototype.forEach),u="ontouchstart"in e&&/Mobile|android|iOS|iPhone|iPad|Windows Phone|KEAPWI/i.test(navigator.userAgent)?"touchstart":"click",v=(/micromessenger/i.test(navigator.userAgent),function(){}),h={toggleMenu:function(t){s("#main");t?(i.classList.remove("hide"),e.innerWidth<1241&&(s("html").classList.add("lock"),i.classList.add("show"),a.classList.add("in"))):(s("html").classList.remove("lock"),i.classList.remove("show"),a.classList.remove("in"))},hideOnMask:[],model:function(e){this._model=s(e),this._off=this._model.querySelector(".close");var t=this;this.show=function(){a.classList.add("in"),t._model.classList.add("ready"),setTimeout(function(){t._model.classList.add("in")},20)},this.onHide=v,this.hide=function(){t.onHide(),a.classList.remove("in"),t._model.classList.remove("ready"),setTimeout(function(){t._model.classList.remove("in")},20)},this.toggle=function(){return t._model.classList.contains("in")?t.hide():t.show()},h.hideOnMask.push(this.hide),this._off&&this._off.addEventListener(u,t.hide)},page:function(){var e=o(".fade, .fade-scale");return{loaded:function(){f.call(e,function(e){e.classList.add("in")})},unload:function(){f.call(e,function(e){e.classList.remove("in")})}}}(),tabBar:function(){var e=s("#tabMore"),o=s("#tabsWarp");e&&e.addEventListener("click",function(e){o.classList.toggle("ready"),setTimeout(function(){o.classList.toggle("in")},300)},!1),t.addEventListener("click",function(e){!o.contains(e.target)&&o.classList.remove("ready","in")},!1)},fixedTabBar:function(t){var o=outils.getScrollTop(),i=n.clientHeight,a=s("#tabsWarp"),l=s(".article-list"),r=(outils.getScrollTop(a),a.offsetTop-i);console.log(l.offsetLeft),o>r?(a.classList.add("fixed"),e.innerWidth<1241?(a.style.left=0,a.style.width="100%"):a.style.left=l.offsetLeft+"px"):(a.style.left=0,a.classList.remove("fixed"))},share:function(){var e=s("#menuShare"),o=(s("#globalShare"),new this.model("#globalShare"));e.addEventListener(u,o.toggle);var i=s("#pageShareBtn"),n=s("#article-share");i&&(i.addEventListener(u,function(e){n.classList.toggle("in")},!1),t.addEventListener(u,function(e){!i.contains(e.target)&&n.classList.remove("in")},!1))},reward:function(){var e=new this.model("#rewardModel");s("#rewardBtn").addEventListener(u,e.toggle)}};e.addEventListener("load",function(){l.classList.remove("active"),h.page.loaded()},!1),e.addEventListener("beforeunload",function(){h.page.unload()},!1),e.addEventListener("scroll",function(){var e=outils.getScrollTop(),t=n.clientHeight,o=s("#tabsWarp");s(".article-list"),outils.getScrollTop(o),o.offsetTop;e>t?n.classList.add("fixed"):n.classList.remove("fixed"),h.fixedTabBar(),setTimeout(function(){e<600?d.classList.remove("in"):d.classList.add("in")},300)},!1),e.addEventListener("resize",function(){h.toggleMenu()},!1),r.addEventListener(u,function(e){h.toggleMenu(!0),e.preventDefault()},!1),c.addEventListener(u,function(e){i.classList.add("hide"),e.preventDefault()},!1),a.addEventListener(u,function(e){h.toggleMenu(),h.hideOnMask.forEach(function(e){e()}),e.preventDefault()},!1),d.addEventListener("click",function(){outils.scrollTo(0,300)},!1),e.BLOG.SHARE&&h.share(),e.BLOG.REWARD&&h.reward(),e.BLOG.TABBAR&&h.tabBar(),e.Waves?(Waves.init(),Waves.attach(".waves-btn",["waves-light","waves-button","waves-effect"]),Waves.attach(".waves-circle-btn",["waves-light","waves-circle","waves-effect"])):console.error("Waves loading failed."),console.log("%c  Copyright By 黑夜 感谢你的来访！","background-image:-webkit-gradient( linear, left top,right top, color-stop(0, #00a419),color-stop(0.15, #f44336), color-stop(0.29, #ff4300),color-stop(0.3, #AA00FF),color-stop(0.4, #8BC34A), color-stop(0.45, #607D8B),color-stop(0.6, #4096EE), color-stop(0.75, #D50000),color-stop(0.9, #4096EE), color-stop(1, #FF1A00));color:transparent;-webkit-background-clip:text;font-size:13px;")}(window,document);