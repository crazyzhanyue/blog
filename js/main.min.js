!function(e,t){"use strict";t.body;var i=t.querySelector.bind(t),n=t.querySelectorAll.bind(t),s=i("html"),a=i("#menu"),o=i("#header"),d=i("#mask"),l=i("#loading"),r=i("#menu-open"),c=i("#menu-off"),f=i("#gotop"),u=(e.requestAnimationFrame,Array.prototype.forEach),h="ontouchstart"in e&&/Mobile|android|iOS|iPhone|iPad|Windows Phone|KEAPWI/i.test(navigator.userAgent)?"touchstart":"click",v=(/micromessenger/i.test(navigator.userAgent),function(){}),L=i("#tabsWarp"),g={toggleMenu:function(t){L&&L.classList.remove("fixed"),t?(a.classList.remove("hide"),e.innerWidth<1241&&(s.classList.add("lock"),a.classList.add("show"),d.classList.add("in"))):(s.classList.remove("lock"),a.classList.remove("show"),d.classList.remove("in"))},hideOnMask:[],model:function(e){this._model=i(e),this._off=this._model.querySelector(".close");var t=this;this.show=function(){d.classList.add("in"),t._model.classList.add("ready"),setTimeout(function(){t._model.classList.add("in")},20)},this.onHide=v,this.hide=function(){t.onHide(),d.classList.remove("in"),t._model.classList.remove("ready"),setTimeout(function(){t._model.classList.remove("in")},20)},this.toggle=function(){return t._model.classList.contains("in")?t.hide():t.show()},g.hideOnMask.push(this.hide),this._off&&this._off.addEventListener(h,t.hide)},page:function(){var e=n(".fade, .fade-scale");return{loaded:function(){u.call(e,function(e){e.classList.add("in")})},unload:function(){u.call(e,function(e){e.classList.remove("in")})}}}(),tabBar:function(){var e=i("#tabMore");e&&e.addEventListener("click",function(e){L.classList.toggle("ready"),setTimeout(function(){L.classList.toggle("in")},300)},!1),t.addEventListener("click",function(e){!L.contains(e.target)&&L.classList.remove("ready","in")},!1)},fixedTabBar:function(t){var n=outils.getScrollTop();if(!L)return!1;var s=i(".article-list");n>L.offsetTop-o.offsetTop?(L.classList.add("fixed"),e.innerWidth<960?(L.style.left=0,L.style.width="100%"):(L.style.left=s.offsetLeft+"px",L.style.width=s.offsetWidth+"px"),e.addEventListener("resize",function(){L.classList.remove("fixed")},!1)):(L.style.left=0,L.classList.remove("fixed"))},share:function(){var e=i("#menuShare"),s=new this.model("#globalShare");e.addEventListener(h,s.toggle);var a=i("#pageShareBtn"),o=i("#articleShare");a&&(a.addEventListener(h,function(e){o.classList.toggle("in")},!1),t.addEventListener(h,function(e){!a.contains(e.target)&&o.classList.remove("in")},!1));var d=n(".wxShareBtn"),l=new this.model("#wxShareWarp");l.onHide=s.hide,u.call(d,function(e){e.addEventListener(h,l.toggle)})},reward:function(){var e=new this.model("#rewardModel");i("#rewardBtn").addEventListener(h,e.toggle)}};e.addEventListener("load",function(){l.classList.remove("active"),g.page.loaded()},!1),e.addEventListener("beforeunload",function(){g.page.unload()},!1),e.addEventListener("scroll",function(){var e=outils.getScrollTop(),t=o.clientHeight;e>t?o.classList.add("fixed"):o.classList.remove("fixed"),g.fixedTabBar(),setTimeout(function(){e<600?f.classList.remove("in"):f.classList.add("in")},300)},!1),e.addEventListener("resize",function(){g.toggleMenu(),g.hideOnMask.forEach(function(e){e()})},!1),r.addEventListener(h,function(e){g.toggleMenu(!0),e.preventDefault()},!1),c.addEventListener(h,function(){a.classList.add("hide"),L&&L.classList.remove("fixed")},!1),d.addEventListener(h,function(e){g.toggleMenu(),g.hideOnMask.forEach(function(e){e()}),e.preventDefault()},!1),f.addEventListener("click",function(){outils.scrollTo(0,300)},!1),e.BLOG.SHARE&&g.share(),e.BLOG.REWARD&&g.reward(),e.BLOG.TABBAR&&g.tabBar(),e.Waves?(Waves.init(),Waves.attach(".waves-btn",["waves-light","waves-button","waves-effect"]),Waves.attach(".waves-circle-btn",["waves-light","waves-circle","waves-effect"])):console.error("Waves loading failed."),"object"==typeof hljs&&(hljs.initHighlightingOnLoad(),Array.prototype.slice.call(document.querySelectorAll("pre")).forEach(function(e){hljs.highlightBlock(e)}));new QRCode(document.getElementById("qrcode"),{width:250,height:250}).makeCode(window.location.href),e.Blog=g}(window,document);